"use strict";angular.module("flickTheQApp",["ngCookies","ngResource","ngRoute","ngTouch","ui.bootstrap","infinite-scroll"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/search/:query",{templateUrl:"views/main.html",controller:"MainCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("flickTheQApp").controller("MainCtrl",["$scope","$routeParams","serviceFlickr",function(a,b,c){a.query=b.query,a.query||(a.query="coffee"),a.pageNumber=0,a.photos=[],a.loading=!0,a.loadPhotos=function(){a.pageNumber++,a.loading=!0,c.search(a.query,a.pageNumber,24).success(function(b){a.loading=!1;for(var c=0;c<b.photos.photo.length;c++)a.photos.push(b.photos.photo[c])})},a.loadPhotos()}]),angular.module("flickTheQApp").controller("AboutCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("flickTheQApp").controller("SearchCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("flickTheQApp").factory("serviceFlickr",["$http",function(a){return{search:function(b,c,d){return a.get("http://localhost:3000/search?q="+b+"&page="+c+"&per_page="+d)}}}]),angular.module("flickTheQApp").controller("HeaderCtrl",["$scope","$location",function(a,b){a.query="",a.searchAction=function(){b.path("/search/"+a.query)}}]),angular.module("flickTheQApp").directive("loading",function(){return{template:'<div><div ng-show="loading" class="loading-container"></div><div ng-hide="loading" ng-transclude></div></div>',restrict:"A",transclude:!0,replace:!0,scope:{loading:"=loading"},compile:function(a){var b=(new Spinner).spin(),c=a.find(".loading-container")[0];c.appendChild(b.el)}}});